<link rel="stylesheet" href="partials/creditor/creditor.css"/>
<header>
  <span>Register Supplier</span>
</header>

<section class="underline">
  <div class="pull-right">
    <button ng-click ="showDialog()" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-tag"></span> Create Creditor Group</button>
  </div>
</section>

<div class="content">
<div class="row">
    <div class="col-xs-3">
      <div class="panel panel-primary">
        <div class="panel-body">
          <form role="form" name="form" novalidate>
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" id="name" ng-model="creditor.name" ng-change="verifyExisting()" required>
            </div>
             <div class="form-group">
              <label for="Group">Group</label>
              <select required class="form-control" ng-change="verifyExisting()" id="groupselectID" ng-model="creditor_group" ng-options="group.id+' -- '+group.group_txt for group in groups">
                <option value="">--Select Group--</option>
              </select>
            </div>
            <div class="form-group">
              <label for="Location">Location</label>
              <select required class="form-control" id="countryselectID" ng-model="creditor.location_id" ng-options="location.city+' -- '+location.region for location in locations">
                <option value="">--Select Location--</option>
              </select>
            </div>
            <div class="checkbox">
        <label>International
          <input type="checkbox" id="internationalID" ng-model = "creditor.international">
        </label>
      </div>
      <div class="checkbox">
        <label>Locked
          <input type="checkbox" id="lockedID" ng-model = "creditor.locked">
        </label>
      </div>
        </div>
      </div>
    </div>
    <div class="col-xs-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          Optional Information
        </div>
        <div class="panel-body">
          <form role="form">
            <div class="form-group">
              <label for="ad1">Address 1</label>
              <input type="text" class="form-control" id="ad1ID" ng-model="creditor.address1">
            </div>
            <div class="form-group">
              <label for="ad1">Address 2</label>
              <input type="text" class="form-control" id="ad2ID" ng-model="creditor.address2">
            </div>
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="text" class="form-control" id="phoneID" ng-model="creditor.phone">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" class="form-control" id="emailID" ng-model="creditor.email">
            </div>
            <div class="form-group">
              <label for="fax">Fax</label>
              <input type="text" class="form-control" id="faxID" ng-model="creditor.fax">
            </div>                        
          </form> 
          <div>
            <label for="note">Note</label>
            <textarea ng-model = "creditor.note" class="form-control note"></textarea>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-5">
      <div class="panel panel-default">
        <div class="panel-heading">
          Registered Suppliers
        </div>
        <div class="table-responsive">
      <table class="table table-bordered  table-striped table-hover">
        <thead>
          <tr><th>ID</th><th>Name</th></tr>
        </thead>
        <tbody>
        <!--This is populated with angular-->
          <tr ng-click="fill($index)" ng-repeat="creditor in creditors">
            <td>{{creditor.id}}</td>
            <td>{{creditor.name}}</td>
          </tr>
        </tbody>
      </table>
    </div>
      </div>
    </div>
  </div>
</div>

<section class="underline overline">
  <div class="pull-right">
    <button class="btn btn-danger btn-sm" ng-click="delete(creditor)" ng-disabled="form.$invalid">Delete Group</button>
    <button class="btn btn-default btn-sm" ng-click="save(creditor, creditor_group)" ng-disabled="form.$invalid">Save Group</button>
  </div>
</section>

