<header>
  {{ "SUPPLIER.TITLE" | translate }}
</header>

<section class="top-nav">
  <div class="pull-right">
    <a href="" class="btn btn-default btn-sm">
      <span class="glyphicon glyphicon-user"></span> {{ "SUPPLIER.REGISTER_SUPPLIER" | translate }}
    </a>

    <a href="#/creditors/creditor_group" class="btn btn-default btn-sm">
      <span class="glyphicon glyphicon-list-alt"></span> {{ "SUPPLIER.CREATE_GROUP" | translate }}
    </a>
  </div>
</section>

<div class="content">
  <div class="row" style="height: 99%">
    <div class="col-xs-7">
      <div class="panel panel-primary" >
        <div class="panel-heading">
          <span class="glyphicon glyphicon-user"> {{ 'SUPPLIER.SUPPLIER_DETAILS' | translate }}</span>
          <span class="pull-right">{{ (session.state | translate) || '...' }}</span>
        </div>
        <div class="panel-body">
          <form role="form" name="form" novalidate>
            <fieldset>
              <legend>Supplier</legend>
            <div class="form-group">
              <label for="name">{{ "COLUMNS.NAME" | translate }}</label>
              <input type="text" class="form-kapok" id="name" ng-model="session.supplier.name" required>
            </div>
            <div class="form-group">
              <label for="Group">{{ "COLUMNS.GROUP" | translate }}</label>
              <select required class="form-kapok" id="groupselectID" ng-model="session.creditor.group_uuid" ng-options="group.name for group in creditGroup.data">
                <option value="" disabled="disabled">--Select Group--</option>
              </select>
            </div>
            
            <div class="checkbox">
              <label> {{ "SUPPLIER.INTL" | translate }}
                <input type="checkbox" id="internationalID" ng-model="session.supplier.international">
              </label>
            </div>
            <div class="form&#45;group">
              <label for="phone">{{ "SUPPLIER.PHONE" | translate }}</label>
              <input type="text" class="form-kapok" id="phoneID" ng-model="session.supplier.phone">
            </div>
            <div class="form-group">
              <label for="email">{{ "SUPPLIER.EMAIL" | translate }}</label>
              <input type="email" class="form-kapok" id="emailID" ng-model="session.supplier.email">
            </div>
            </fieldset> 
            <fieldset>
              <legend>Location</legend>
              <div class="form-group">
                    <label for="location-country" class="control-label">
                      {{ "LOCATION.COUNTRY" | translate }}
                    </label>
                    <select required class="form-kapok" id="location-country" ng-model="origin.country" ng-options="country as country.country_fr for country in country.data">
                      <option value="" disabled="disabled">-- {{ "SELECT.COUNTRY" | translate }} --</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="location-province" class="control-label">
                      {{ "LOCATION.PROVINCE" | translate }}
                    </label>
                    <select required class="form-kapok" id="location-province" ng-model="origin.province" ng-options="province as province.name for province in province.data | filter:{country_id:origin.country.id}">
                      <option value="" disabled="disabled">-- {{ "SELECT.PROVINCE" | translate }} --</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="location-sector" class="control-label">
                      {{ "LOCATION.VILLE" | translate }}
                    </label>
                    <select class="form-kapok" id="location-sector" ng-model="origin.sector" ng-options="sector as sector.name for sector in sector.data | filter:{province_id:origin.province.id}" required>
                      <option value="" disabled="disabled">-- {{ "SELECT.SECTOR" | translate }}--</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="location-village" class="control-label">
                      {{ "LOCATION.LOCALITY" | translate }}
                    </label>
                    <input class="form-kapok" id="location-country" ng-model="origin.village" typeahead="village as village.name for village in village.data | filter:$viewValue | limitTo:10" required>
                </div>
            </fieldset>
            <!-- <div class="form&#45;group"> -->
            <!--   <label for="Location">{{ "COLUMNS.LOCATION" | translate }}</label> -->
            <!--   <select required class="form&#45;kapok" id="countryselectID" ng&#45;model="creditor.location_id" ng&#45;options="location.id as formatLocation(location) for location in locations"> -->
            <!--     <option value="" disabled="disabled">&#45;&#45; {{ "SELECT.LOCATION" | translate }} &#45;&#45;</option> -->
            <!--   </select> -->
            <!-- </div> -->
          </form>
        </div>
      </div>
      
    </div>
    <!-- <div class="col&#45;xs&#45;4"> -->
    <!--   <div class="panel panel&#45;default"> -->
    <!--     <div class="panel&#45;heading"> -->
    <!--       {{ "SUPPLIER.OPTIONAL_INFO" | translate }} -->
    <!--     </div> -->
    <!--     <div class="panel&#45;body"> -->
    <!--       <form role="form"> -->
    <!--         <div class="form&#45;group"> -->
    <!--           <label for="ad1">{{ "SUPPLIER.ADDR_1" | translate }}</label> -->
    <!--           <input type="text" class="form&#45;kapok" id="ad1ID" ng&#45;model="creditor.address_1"> -->
    <!--         </div> -->
    <!--         <div class="form&#45;group"> -->
    <!--           <label for="ad1">{{ "SUPPLIER.ADDR_2" | translate }}</label> -->
    <!--           <input type="text" class="form&#45;kapok" id="ad2ID" ng&#45;model="creditor.address_2"> -->
    <!--         </div> -->
    <!--         <div class="form&#45;group"> -->
    <!--           <label for="phone">{{ "SUPPLIER.PHONE" | translate }}</label> -->
    <!--           <input type="text" class="form&#45;kapok" id="phoneID" ng&#45;model="creditor.phone"> -->
    <!--         </div> -->
    <!--         <div class="form&#45;group"> -->
    <!--           <label for="email">{{ "SUPPLIER.EMAIL" | translate }}</label> -->
    <!--           <input type="email" class="form&#45;kapok" id="emailID" ng&#45;model="creditor.email"> -->
    <!--         </div> -->
    <!--         <div class="form&#45;group"> -->
    <!--           <label for="fax">{{ "SUPPLIER.FAX" | translate }}</label> -->
    <!--           <input type="text" class="form&#45;kapok" id="faxID" ng&#45;model="creditor.fax"> -->
    <!--         </div>                         -->
    <!--       </form>  -->
    <!--       <div> -->
    <!--         <label for="note">{{ "COLUMNS.NOTE" | translate }}</label> -->
    <!--         <textarea ng&#45;model="creditor.note" class="form&#45;kapok note"></textarea> -->
    <!--       </div> -->
    <!--     </div> -->
    <!--   </div> -->
    <!-- </div> -->
    <div class="col-xs-5" style="height: 100%; overflow-y: auto">
      <div class="panel panel-default">
        <div class="panel-heading">
          {{ "SUPPLIER.REGISTERED" | translate }}
        </div>
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>{{ "COLUMNS.ID" | translate }}</th>
              <th>{{ "COLUMNS.NAME" | translate }}</th>
              <th><span class="glyphicon glyphicon-lock"></span></th>
            </tr>
          </thead>
          <tbody>
          <!--This is populated with angular-->
            <tr ng-click="fill($index)" ng-repeat="creditor in creditors">
              <td>{{creditor.id}}</td>
              <td>{{creditor.name}}</td>
              <td><input type="checkbox" ng-model="creditor.locked" ng-true-value="1" ng-false-value="0" ng-change="lock(creditor)" ng-checked="creditor.locked"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<section class="bar-bottom">
  <div class="pull-right">
    <button class="btn btn-success btn-sm" ng-click="save(creditor, creditor_group)" ng-disabled="form.$invalid">
      {{ "FORM.SAVE" | translate }}
    </button>
    <button class="btn btn-danger btn-sm" ng-click="delete()" ng-disabled="form.$invalid">
      {{ "FORM.DELETE" | translate }}
    </button>
  </div>
</section>

