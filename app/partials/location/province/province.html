<header>
<span class="capitalize"> {{ 'PROVINCE.TITLE' | translate }}</span>
  </header>

  <section class="top-nav">
    <div class="pull-right">
        <a href="#/location/" class="capital btn btn-default btn-sm"><span class="glaphyicon glaphyicon-tag">{{'PROVINCE.LOCATION_MANAGER' | translate}}</span></a>
    </div>
    <div class="pull-left">
      <button class="btn btn-default btn-sm" ng-click="setOp('Add')">{{'PROVINCE.ADD' | translate}}</button>
    </div>
  </section>

<article class="content">
  <div class="row">
    <div class="col-xs-4">
      <div class="panel panel-default" style="max-height: 525px;">
        <div class="panel-heading">
          <span>{{'PROVINCE.REGISTERED' | translate}}</span>
        </div>
        <div class="panel-body village-size">
          <table class="table table-striped table-condensed">
          <thead>
            <tr>
              <th>{{ 'PROVINCE.NAME' | translate}}</th>
              <th>{{ 'PROVINCE.COUNTRY' | translate}}</th>
              <th colspan="2">{{ 'PROVINCE.ACTIONS' | translate}}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="province in provinces.data">
              <td>{{ province.province }}</td>
              <td>{{ province.country_en }}</td>
              <td ng-click="setOp('Edit', province)">
                <button class="btn btn-sm btn-default"><i class="glyphicon glyphicon-pencil"></i></button>
              </td>
              <td ng-click="removeProvince(province.uuid)">
                <button class="btn btn-sm btn-danger"><i class="glyphicon glyphicon-trash"></i></button>
              </td>
            </tr>
          </tbody>
      </table>
    </div>

      </div>
    </div>

    <div class="col-xs-6" ng-switch="op">
      <div ng-switch-default>
         <div class="alert alert-info">
             <b>{{'PROVINCE.CONFIGURATION' | translate}} </b>
             <p>{{'PROVINCE.DESCRIPTION' | translate}}                                                      
             </p>                                                                                                  
         </div>  
       </div>

       <div ng-switch-when="Add">
         
           <form class="form-horizontal">                                                                          
              <fieldset>                                                                                            
                <legend>{{'PROVINCE.REGISTER' | translate}}</legend>                                                           
                <div class="form-group">
                  <label class="col-xs-2"> {{'PROVINCE.COUNTRY' | translate}}</label>
                  <div class="col-xs-10">
                    <select
                      required
                      class="form-kapok"
                      name="countryname"
                      id="countryID"
                      ng-model="add.country_uuid"
                      ng-options="cou.uuid as cou.country_en for cou in countries.data"
                    >
                      <option value="" disable="disabled">-- {{'SELECT.COUNTRY' | translate}} -- </option>
                    </select>
                  </div>
                </div>

                <div class="form-group">                                                                   
                   <label class="col-xs-2 control-label">{{'PROVINCE.PROVINCE_NAME' | translate}}</label>                                                
                   <div class="col-xs-10">                                                                           
                      <input class="form-kapok" ng-model="add.name" required>                                            
                   </div>                                                                                            
                </div>     
              </fieldset>
              <button class="btn btn-default btn-success" ng-click="addProvince(add)" ng-disabled="form.$invalid " type="submit">{{'FORM.ADD' | translate}}</button>
              <button class="btn btn-default btn-sm"  type="reset">{{'FORM.NEW_FORM' | translate}}</button>

            </form>
          </div>

      <div ng-switch-when="Edit">
         
           <form class="form-horizontal">                                                                          
              <fieldset>                                                                                            
                <legend>{{'PROVINCE.EDIT' | translate}}</legend>                                                           
                <div class="form-group">
                  <label class="col-xs-2"> {{'PROVINCE.COUNTRY' | translate}}</label>
                  <div class="col-xs-10">
                    <select
                      required
                      class="form-kapok"
                      name="countryname"
                      id="countryID"
                      ng-model="province.country_uuid"
                      ng-options="cou.uuid as cou.country_en for cou in countries.data"
                    >
                      <option value="" disable="disabled">-- {{'SELECT.COUNTRY' | translate}} -- </option>
                    </select>
                  </div>
                </div>

                <div class="form-group">                                                                   
                   <label class="col-xs-2 control-label">{{'PROVINCE.PROVINCE_NAME' | translate}}</label>                                                
                   <div class="col-xs-10">                                                                           
                      <input class="form-kapok" ng-model="province.province" required>                                            
                   </div>                                                                                            
                </div>     
              </fieldset>
              <button class="btn btn-default btn-success" ng-click="editProvince(province)" ng-disabled="form.$invalid " type="submit">{{'FORM.ADD' | translate}}</button>
              <button class="btn btn-default btn-sm"  type="reset">{{'FORM.NEW_FORM' | translate}}</button>

            </form>
       </div>

  </div>
  </article>
