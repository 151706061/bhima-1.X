<header data-header>
  {{ "PRIMARY_CASH.EXPENSE.GENERIC_TITLE" |  translate }}
</header>

<section class="top-nav">

  <div class="pull-left">
    <ol class="breadcrumb" style="float: right;">
      <span class="label label-success square">{{ "PRIMARY_CASH.NAVIGATION" | translate }}</span>
      <li><a href="#/primary_cash">{{ "PRIMARY_CASH.TITLE" | translate }}</a></li>
      <li><a>{{ "PRIMARY_CASH.EXPENSES" | translate }}</a></li>
      <li class="active">{{ "PRIMARY_CASH.GENERIC" | translate }}</li>
    </ol>
  </div>


  <div class="pull-right dropdown">
    <button class="btn btn-sm btn-primary square dropdown-toggle">
      {{ session.currency.symbol || "UTIL.CURRENCY" | translate }}
      <span class="caret" data-caret="&#9660;"></span>
    </button>
    <ul class="dropdown-menu">
      <li ng-repeat="currency in currencies.data">
        <a href="" ng-click="session.currency=currency">{{ currency.symbol }}</a>
      </li>
    </ul>
  </div>
</section>

<div class="content">
  <div class="row">
    <div class="col-xs-8">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <span class="glyphicon glyphicon-list-alt"></span>
          {{ "PRIMARY_CASH.EXPENSE.GENERIC_RECEIPT" | translate }}
        </div>
        <div class="panel-body">
          <form>

            <div class="form-group col-xs-6 hack-left">
              <label>Reference Document ID</label>
              <div class="input-group">
                <input class="form-kapok" ng-model="session.receipt.purchase_uuid" required>
                <span class="input-group-btn">
                  <button type="button" class="btn btn-sm btn-default square" ng-click="generate()">
                    <span class="glyphicon glyphicon-refresh"></span>
                  </button>
                </span>
              </div>
            </div>

            <div class="form-group col-xs-6 pull-right" style="padding-right: 0;">
              <label>Expense Date</label>
              <input type="date" class="form-kapok" ng-model="session.receipt.date" max="{{ session.today }}" required>
            </div>

            <div class="form-group">
              <label>Purpose of Expense</label>
              <input class="form-kapok" ng-model="session.receipt.description" required>
            </div>

            <div class="form-group">
              <label>Receipient</label>
              <input type="text" class="form-kapok" ng-model="session.receipt.receipient" typeahead="supplier.text for supplier in suppliers.data | filter:$viewValue | limitTo:8">
            </div>

            <div class="form-group">
              <label>Amount Dispensed</label>
              <div class="input-group">
                <span class="input-group-addon square">
                  {{ session.currency.symbol || "..." }}
                </span>
                <input type="number" class="form-kapok" ng-model="session.receipt.value">
              </div>
            </div>
          </form>
        </div>
        <div class="panel-footer">
          <button class="btn btn-sm btn-success" type="button" ng-click="submit()" ng-disabled="session.invalid"> {{ 'FORM.SUBMIT' | translate }} </button>
          <button class="btn btn-sm btn-default" type="button" ng-click="clear()"> {{ 'FORM.CLEAR' | translate }} </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 
<section class="bar-bottom">
  <div class="pull-right">
    <button class="btn btn-sm btn-success" type="button" ng-click="submit()" ng-disabled="session.invalid"> {{ 'FORM.SUBMIT' | translate }} </button>
    <button class="btn btn-sm btn-default" type="button" ng-click="clear()"> {{ 'FORM.CLEAR' | translate }} </button>
  </div>
</section>
