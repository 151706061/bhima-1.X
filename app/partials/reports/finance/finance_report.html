<link href="partials/reports/finance/finance_report.css" rel="stylesheet">

<header>
  <span>Finance Report</span>
</header>

<section class="underline">
  <div class="pull-right">
    <span class="dropdown">
      <a class="capital btn btn-default btn-sm dropdown-toggle"><span class="glyphicon glyphicon-cog"></span> {{'CONFIGURE' | translate}}</a>
      <ul class="dropdown-menu">
        <li class="dropdown-header">Report Years</li>
        <li ng-repeat="year in requiredYears">
          <a ng-click="toggleYear(year)" href="">
            <i class="glyphicon" ng-class="{'glyphicon-unchecked' : !year.toggle, 'glyphicon-check' : !!year.toggle}"></i> {{year.id}}
          </a>
        </li>
      </ul>
    </span> 
    <button ng-click="" class="btn btn-default btn-sm capital"><span class="glyphicon glyphicon-print"></span> {{'PRINT' | translate}}</button>
  </div>
</section>

<!--Uses ng-switch at the moment, team should discuss the best way to do this-->
<div ng-switch on="session_error.valid">
<section ng-switch-when="false" class="alert {{session_error.type}}"> <!--Type mapped in JS, not ideal but works for now-->
  <span>{{session_error.body}}</span>
</section>
</div>

<table class="reportTable">
  <thead>
    <tr>
      <th ng-repeat="column in columnDefinition">{{column.name}}</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="row in model['finance'].data">
      <td ng-repeat="column in columnDefinition">{{row[column.key] || 0}}</td>
    </tr>
  </tbody>
</table>
