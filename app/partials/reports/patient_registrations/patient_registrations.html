<header>
  {{ "PATIENT_REGISTRATIONS.TITLE" | translate }}
</header>

<div class="top-nav" ng-show="action=='display'">
  <button class="btn btn-sm btn-success" ng-click="searchAgain">
    {{ "PATIENT_REGISTRATIONS.SEARCH_AGAIN" | translate }}
  </button>
</div>

<div class="content">
  <div class="row col-xs-12" ng-switch="action">

    <div class="panel panel-default" ng-switch-default>
      <div class="panel-heading">
        {{ "PATIENT_REGISTRATIONS.FIND_DATE" | translate }}
      </div>
      <div class="panel-body">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="col-xs-2">{{ "PATIENT_REGISTRATIONS.DATE_FROM" | translate }}</label>
            <div class="col-xs-10">
              <input type="date" class="form-kapok" ng-model="date.from">
            </div>
          </div>
          <div class="form-group">
            <label class="col-xs-2">{{ "PATIENT_REGISTRATIONS.DATE_TO" | translate }}</label>
            <div class="col-xs-10">
              <input type="date" class="form-kapok" ng-model="date.to">
            </div>
          </div>
          <input type="submit" class="btn btn-sm btn-success" ng-click="search()" value="{{ 'FORM.SUBMIT' | translate }}">
        </form>
      </div>
    </div>

    <div class="panel panel-success" ng-switch-when="'display'">
      <div class="panel-heading">
        <b>{{ date.from | date }} - {{ data.to | date }}</b>
      </div>
      <table class="table">
        <thead>
          <th>{{ "COLUMNS.ID" | translate }}</th>
          <th>{{ "COLUMNS.NAME" | translate }}</th>
          <th>{{ "COLUMNS.DOB" | translate }}</th>
          <th>{{ "COLUMNS.PARENT" | translate }}</th>
          <th>{{ "COLUMNS.SEX" | translate }}</th>
          <th>{{ "COLUMNS.DEBITOR_ID" | translate }}</th>
          <th>{{ "COLUMNS.DATE_REGISTERED" | translate }}</th>
          <th></th>
        </thead>
        <tbody>
          <tr ng-repeat="row in data">
            <th>{{ row.id }}</th>
            <td>{{ row.first_name + " " +row.last_name }}</td>
            <td>{{ row.dob }}</td>
            <td>{{ row.father_name }}</td>
            <td>{{ row.sex }}</td>
            <th>{{ row.debitor_id }}</th>
            <td>{{ row.registration_date }}</td>
            <td><a href="" ng-click="viewInvoice(row.id)"><span class="glyphicon glyphicon-list-alt"></span></a></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
