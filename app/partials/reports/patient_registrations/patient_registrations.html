<header>
  {{ "PATIENT_REGISTRATIONS.TITLE" | translate }}
</header>

<section class="top-nav">
  <div class="pull-left">
    <a href="" class="btn btn-sm btn-default" ng-click="day()">
      {{ "PATIENT_REGISTRATIONS.DAY" | translate }}
    </a>
    <a href="" class="btn btn-sm btn-default" ng-click="week()">
      {{ "PATIENT_REGISTRATIONS.WEEK" | translate }}
    </a>
    <a href="" class="btn btn-sm btn-default" ng-click="month()">
      {{ "PATIENT_REGISTRATIONS.MONTH" | translate }}
    </a>
  </div>

  <div>
    <div class="col-xs-3">
      <input class="form-kapok" type="date" ng-model="state.dateFrom" rows="20">
    </div>
    <div class="col-xs-3">
      <input class="form-kapok" type="date" ng-model="state.dateTo" rows="20">
    </div>
    <a href="" class="btn btn-sm btn-primary" ng-click="search()">
      {{ "PATIENT_REGISTRATIONS.SEARCH" | translate }}
    </a>
  </div>

  <!--
  <div class="pull-right btn-group">
    <button type="button" class="btn btn-default btn-sm dropdown-toggle">
      Specify <span class="caret" data-caret="&#9660;"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li><input type="date" class="form-kapok"></li>
      <li><input type="date" class="form-kapok"></li>
      <li class="divider"></li>
      <li><a href="" class='btn  btn-primary'>Submit</a></li>
    </ul>
  </div>
  -->
</section>

<div class="report">
  <div class="reportBody">
    <div class="reportFrame">
      <h4>{{ "PATIENT_REGISTRATIONS.TITLE" | translate }} <small> {{ state.dateFrom | date }} - {{ state.dateTo | date }}</small></h4>
        <table id="patientTable" class="reportTable">
          <thead>
            <tr>
              <th>{{ "COLUMNS.ID" | translate }}</th>
              <th>{{ "COLUMNS.NAME" | translate }}</th>
              <th>{{ "COLUMNS.DOB" | translate }}</th>
              <th>{{ "COLUMNS.SEX" | translate }}</th>
              <th>{{ "COLUMNS.DEBITOR_ID" | translate }}</th>
              <th>{{ "COLUMNS.DATE_REGISTERED" | translate }}</th>
              <th>{{ "COLUMNS.VISIT_DATE" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='patient in patients'>
              <td> {{ patient.abbr + patient.reference }} </td>
              <td> {{ patient.first_name + ' ' + patient.last_name }} </td>
              <td> {{ patient.dob | date }} </td>
              <td> {{ patient.sex }} </td>
              <td ng-show="!patient.expand"><a href="" ng-click="patient.expand=!patient.expand">{{ "UTIL.SHOW" | translate }}</a></td>
              <td ng-show="patient.expand"> <a href="" ng-click="patient.expand=!patient.expand">{{ patient.debitor_uuid }}</a></td>
              <td> {{ patient.registration_date | date }} </td>
              <td> {{ patient.date | date }} </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <th colspan="7">{{ "COLUMNS.TOTAL" | translate }} : {{ patients.length }}</th>
            </tr>
          </tfoot>
        </table>
    </div>
  </div>
</div>

