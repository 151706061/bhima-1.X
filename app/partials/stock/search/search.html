<header data-header>
  {{ "STOCK.SEARCH.TITLE" | translate }}
</header>

<div class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="panel square" ng-class="{'panel-success' : selectedStock, 'panel-default' : !selectedStock}">
        <div class="panel-heading square">
          <span class="glyphicon" ng-class="{'glyphicon-search' : session.search, 'glyphicon-list-alt' : !session.search}"></span> 
          <span ng-show="session.search">{{'UPDATE_STOCK.FIND_STOCK' | translate}}</span>
              <span ng-show="!session.search">
                <b>{{selectedStock.code}}</b> 
                {{selectedStock.text}}
              </span>

          <div class="pull-right" ng-hide="session.search">
            <span ng-click="refreshSession()" class="glyphicon glyphicon-refresh"></span>
          </div>
        </div>
        <div class="panel-body" ng-show="session.search">
          <div class="input-group"> 
            <input class="form-kapok" ng-model="session.stockSearch" typeahead="stock as stock.text for stock in model.inventory.data | filter: $viewValue | limitTo:10" typeahead-on-select="selectStock(session.stockSearch.uuid)" typeahead-template-url="stockItem.html" placeholder="{{'UPDATE_STOCK.SEARCH_TEXT' | translate}}">
            <div class="input-group-btn"> 
              <button class="btn btn-default btn-sm" ng-click="loadStock(selectedStock.uuid)" ng-disabled="!selectedStock">{{'FORM.SUBMIT' | translate}}</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

