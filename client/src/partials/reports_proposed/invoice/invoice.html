<header data-header>
  Build Invoice
</header>

<main>
  <div class="panel panel-default">
    <div class="panel-heading">Document Configuration</div>
    <div class="panel-body">
      <form>
        <div class="form-group">
          <label>Format</label>
          
          <div>
            <span ng-repeat="format in configuration.format.options">
              <button 
                class="btn btn-default btn-lg"
                ng-class="{'active' : configuration.format.selected===format}"
                ng-click="selectConfiguration('format', format)">{{format.label}}</button>
            </span>
          </div>
        </div>
        <div class="form-group">
          <label>Language</label>
         
          <div>
            <span ng-repeat="language in configuration.language.options">
              <button 
                class="btn btn-default btn-lg"
                ng-class="{'active' : configuration.language.selected===language}"
                ng-click="selectConfiguration('language', language)">{{language.label}}</button>
            </span>
          </div>
        
        </div>
        <div class="form-group">
          <label>Currency</label>
          
          <div>
            <span ng-repeat="currency in configuration.currency.options">
              <button 
                class="btn btn-default btn-lg"
                ng-class="{'active' : configuration.currency.selected===currency}"
                ng-click="selectConfiguration('currency', currency)">{{currency.label}}</button>
            </span>
          </div>
        </div>
        <button 
          class="btn btn-default"
          ng-disabled="session.building"
          ng-click="generateDocument()" ng-if="!generatedPath">{{session.building ? 'Loading...' : 'Generate Document'}}</button>

        <a class="btn btn-success" href="{{generatedPath}}" target="_blank" ng-if="generatedPath" ng-click="clearDocument()">Document Build Success - Open Document</a>

      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        PDF Render 

      </div>
      <div class="panel-body">
        <object data="{{pdfContent}}" type="application/pdf" width="100%" height="100%"></object>
      </div>
    </div>
</main>
