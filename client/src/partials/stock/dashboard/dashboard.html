<header data-header>
  {{ "STOCK_DASHBOARD.TITLE" | translate }}
</header>

<nav>
  <div class="pull-left">
    <ol class="breadcrumb" style="float: right;">
      <li><a href="#/"><span class="glyphicon glyphicon-home"></span></a></li>
      <li class="active">{{ "STOCK_DASHBOARD.TITLE" | translate }}</li>
    </ol>
  </div>
</nav>

<main class="extend">
  <div class="row margin-top-10">
    <div class="col-xs-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-signal"></i>
          {{ "STOCK_DASHBOARD.MOST_CONSUMED" | translate }}
        </div>
        <table class="table table-hover table-condensed">
          <thead>
            <tr>
              <th><i class="glyphicon glyphicon glyphicon-sort-by-attributes-alt"></i></th>
              <th>{{ "COLUMNS.LABEL" | translate}}</th>
              <th>{{ "COLUMNS.QUANTITY" | translate}}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in StockDashCtrl.consumption">
              <td>{{ $index + 1 }}</td>
              <td>{{ item.text }}</td>
              <td>{{ item.quantity }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- purchase order panel -->
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-list-alt"></i>
          {{ "STOCK_DASHBOARD.PURCHASE_ORDER.TITLE" | translate }}
        </div>
        <ul class="list-group">

          <a href="#/purchase/view/OrdersWatingPayment" class="list-group-item">
            {{ "STOCK_DASHBOARD.PURCHASE_ORDER.IN_WATING" | translate }}
            <span class="badge">{{ StockDashCtrl.purchaseorders.pending }}</span>
          </a>

          <a href="#/purchase/view/OrdersPayed" class="list-group-item">
            {{ "STOCK_DASHBOARD.PURCHASE_ORDER.PAYED" | translate }}
            <span class="badge">{{ StockDashCtrl.purchaseorders.paid }}</span>
          </a>

          <a href="#/purchase/view/InWatingReception" class="list-group-item">
            {{ "STOCK_DASHBOARD.PURCHASE_ORDER.WATING_RECEPTION" | translate }}
            <span class="badge">{{ StockDashCtrl.purchaseorders.shipped }}</span>
          </a>

          <a href="#/purchase/view/OrdersReceived" class="list-group-item">
            {{ "STOCK_DASHBOARD.PURCHASE_ORDER.RECEIVED" | translate }}
            <span class="badge">{{ StockDashCtrl.purchaseorders.delivered }}</span>
          </a>
        </ul>
      </div>

      <!-- movement panel -->
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-retweet"></i>
          {{ "STOCK_DASHBOARD.MOVEMENT.TITLE" | translate }}
        </div>
        <div class="panel-body">
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a >
              {{ "STOCK_DASHBOARD.MOVEMENT.ENTER" | translate }}
              <span class="pull-right"><strong>#</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a >
              {{ "STOCK_DASHBOARD.MOVEMENT.EXIT" | translate }}
              <span class="pull-right"><strong>#</strong></span>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- stock alerts -->
    <div class="col-xs-4">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-stats"></i>
          {{ "STOCK_DASHBOARD.ALERTS.TITLE" | translate }}
        </div>
        <ul class="list-group">

          <a href="#/stock/outtages" class="list-group-item">
            <i class="glyphicon glyphicon-exclamation-sign text-danger"></i>
            {{ "STOCK_DASHBOARD.ALERTS.OUT_OF_STOCK" | translate }}
            <span class="badge">{{ StockDashCtrl.alerts.outtage.length }}</span>
          </a>

          <a href="#/stock/minimum" class="list-group-item">
            <i class="glyphicon glyphicon-exclamation-sign text-warning"></i>
            {{ "STOCK_DASHBOARD.ALERTS.UNDER_MIN" | translate }}
            <span class="badge">{{StockDashCtrl.alerts.minimum.length}}</span>
          </a>

          <a href="#/stock/excess" class="list-group-item">
            <i class="glyphicon glyphicon-exclamation-sign text-primary"></i>
            {{ "STOCK_DASHBOARD.ALERTS.OVER_MAX" | translate }}
            <span class="badge">{{ StockDashCtrl.alerts.excess.length }}</span>
          </a>

          <a href="#/stock/optimum" class="list-group-item">
            <i class="glyphicon glyphicon-ok-sign text-success"></i>
            {{ "STOCK_DASHBOARD.ALERTS.OPTIMAL_LEVEL" | translate }}
            <span class="badge">{{ StockDashCtrl.alerts.optimum.length }}</span>
          </a>
        </ul>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-dashboard"></i>
          {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.TITLE" | translate }}
        </div>
        <div class="panel-body">
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/expired">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.EXPIRED" | translate }}
              <span class="pull-right"><strong>{{ nbExpired }}</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/expired30">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.WITHIN_30" | translate }}
              <span class="pull-right"><strong>{{ nbExpired30 }}</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/expired90">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.WITHIN_90" | translate }}
              <span class="pull-right"><strong>{{ nbExpired3090 }}</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/expired180">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.WITHIN_180" | translate }}
              <span class="pull-right"><strong>{{ nbExpired180 }}</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/expired365">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.WITHIN_365" | translate }}
              <span class="pull-right"><strong>{{ nbExpired365 }}</strong></span>
            </a>
          </div>
          <div>
            <i class="glyphicon glyphicon-asterisk" style="color:green;"></i>
            <a href="#/reports/expiring/oneYear">
              {{ "STOCK_DASHBOARD.EXPIRING_INVENTORY.WITHIN_1YEAR" | translate }}
              <span class="pull-right"><strong>{{ nbExpired1 }}</strong></span>
            </a>
          </div>

        </div>
      </div>
    </div>

    <div class="col-xs-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="glyphicon glyphicon-gift"></i>
          {{ "STOCK_DASHBOARD.DONATIONS.TITLE" | translate }}
        </div>
        <table class="table table-hover table-condensed">
          <thead>
            <tr>
              <th></th>
              <th>{{ "COLUMNS.DONOR" | translate}}</th>
              <th>{{ "COLUMNS.DATE" | translate}}</th>
              <th>{{ "COLUMNS.QUANTITY" | translate}}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="donation in StockDashCtrl.donations">
              <td>{{ $index + 1 }}</td>
              <td>{{ donation.donorname }}</td>
              <td>{{ donation.date | date }}</td>
              <td>{{ donation.items }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
